(this["webpackJsonpbtcn01-react-tutorial"]=this["webpackJsonpbtcn01-react-tutorial"]||[]).push([[0],{13:function(n,e,t){},15:function(n,e,t){},16:function(n,e,t){},17:function(n,e,t){"use strict";t.r(e);var r=t(1),c=t.n(r),i=t(7),s=t.n(i),o=(t(13),t(2)),a=t(8),u=t(6),l=t(0),j=function(n){var e=n.value,t=n.onClick,r=n.isWin,c=n.isDisabled,i="square"+(r?" winner":"");return Object(l.jsx)("button",{className:i,onClick:function(){return t()},disabled:c,children:e})},b=function(n){var e=n.rowIndex,t=n.squares,r=n.onClick,c=n.winChain,i=n.numOfRows;return Object(l.jsx)("div",{className:"board-row",children:t.map((function(n,t){var s=t+e*i;return Object(l.jsx)(j,{value:n,onClick:function(){return r(s)},isWin:c&&c.includes(s),isDisabled:!!c},"key"+s)}))})},f=function(n){var e=n.squares,t=n.onClick,r=n.winChain,c=n.numOfRows,i=function(){for(var n=[],i=0;i<c;i++){var s=i*c,o=s+c,a=e.slice(s,o);n.push(Object(l.jsx)(b,{rowIndex:i,onClick:t,squares:a,winChain:r,numOfRows:c},i))}return n};return Object(l.jsx)("div",{children:Object(l.jsx)(i,{})})},d=function(n){var e,t=n.history,r=n.steps,i=n.isAscending,s=n.jumpTo;i?e=t.map((function(n,e){var t=e?"Go to move #"+e+" (".concat(n.position.row,", ").concat(n.position.col,")"):"Go to game start";return Object(l.jsx)("li",{className:e===r.current?"bold":"",children:Object(l.jsx)("button",{onClick:function(){return s(e)},children:t})},"move"+e)})):e=t.slice().reverse().map((function(n,e){var t=r.max-e,c=-1!==n.position.col?"Go to move #"+t+" (".concat(n.position.row,", ").concat(n.position.col,")"):"Go to game start";return Object(l.jsx)("li",{className:t===r.current?"bold":"",children:Object(l.jsx)("button",{onClick:function(){return s(t)},children:c})},"move"+t)}));return Object(l.jsx)(c.a.Fragment,{children:e})},h=function(n,e){return{row:Math.floor(n/e+1),col:n%e+1}},O=function(n,e,t,r){var c=function(n,e,t,r){for(var c=[],i=t%r,s=r*r,o=i;o<s;o+=r){if(n[i]===e)c.push(o);else{if(c.length>=5)return c;c.splice(0,c.length)}i+=r}return c.length>=5?c:null}(n,e,t,r);if(c)return c;var i=function(n,e,t,r){for(var c=[],i=Math.floor(t/r)*r,s=i+r,o=i;o<s;o++)if(n[o]===e)c.push(o);else{if(c.length>=5)return c;c.splice(0,c.length)}return c.length>=5?c:null}(n,e,t,r);if(i)return i;var s=function(n,e,t,r){for(var c=[t],i=t;i-r>0;){var s=i-(r+1);if(n[s]!==e)break;c.push(s),i=s}for(var o=r*r;t+r<o;){var a=t+r+1;if(n[a]!==e)break;c.push(a),t=a}return c.length>=5?c:null}(n,e,t,r);if(s)return s;var o=function(n,e,t,r){for(var c=[t],i=t;i-r>0;){var s=i-(r-1);if(n[s]!==e)break;c.push(s),i=s}for(var o=r*r;t+r<o;){var a=t+(r-1);if(n[a]!==e)break;c.push(a),t=a}return c.length>=5?c:null}(n,e,t,r);return o||null},v=(t(15),{max:0,current:0,lastIndex:-1}),x=function(n){var e=n.rows,t=n.children,c=e*e,i=Object(r.useState)([{squares:Array(c).fill(null),position:{row:-1,col:-1}}]),s=Object(o.a)(i,2),j=s[0],b=s[1],x=Object(r.useState)(v),m=Object(o.a)(x,2),p=m[0],g=m[1],w=Object(r.useState)(!0),k=Object(o.a)(w,2),C=k[0],q=k[1],y=Object(r.useState)(!0),N=Object(o.a)(y,2),S=N[0],I=N[1],R=j[p.current],A=C?"O":"X",D=O(R.squares,A,p.lastIndex,e),G=e*e,T=p.current===G&&!D;return Object(l.jsxs)("div",{className:"game",children:[Object(l.jsxs)("div",{className:"game-board",children:[Object(l.jsx)(f,{squares:R.squares,onClick:function(n){var t=j[p.current].squares.slice();if(!t[n]){t[n]=C?"X":"O";var r=h(n,e),c=j.slice(0,p.current+1);b((function(){return[].concat(Object(a.a)(c),[{position:r,squares:t}])}));var i=c.length;g({current:i,max:i,lastIndex:n}),q(!C)}},winChain:D,numOfRows:e}),t]}),Object(l.jsxs)("div",{className:"game-info",children:[Object(l.jsx)("button",{onClick:function(){I(!S)},children:"Sort steps order"}),Object(l.jsx)("span",{children:S?"Ascending":"Descending"}),T?Object(l.jsx)("div",{children:"Draw"}):Object(l.jsx)("div",{children:D?"Winner: "+A:"Next player: "+(C?"X":"O")}),Object(l.jsx)("ol",{className:"history-list",children:Object(l.jsx)(d,{steps:p,history:j,jumpTo:function(n){g((function(e){return Object(u.a)(Object(u.a)({},e),{},{current:n})})),q(n%2===0)},isAscending:S})})]})]})},m=(t(16),function(){var n=Object(r.useRef)(),e=Object(r.useState)(!1),t=Object(o.a)(e,2),c=t[0],i=t[1],s=Object(r.useState)(),a=Object(o.a)(s,2),u=a[0],j=a[1];return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{children:"Tic-tac-toe"}),c?Object(l.jsx)(x,{rows:u,children:Object(l.jsx)("button",{id:"return-button",onClick:function(){j(0),i(!1)},children:"Return"})}):Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"number",onChange:function(){var e=parseInt(n.current.value);j(e)},ref:n,placeholder:"Type board size - min = ".concat(5," and max = ").concat(20)}),Object(l.jsx)("button",{onClick:function(){u<5||u>20?n.current.focus():i(!0)},children:"Play"})]})]})});s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(m,{})}),document.getElementById("root"))}},[[17,1,2]]]);